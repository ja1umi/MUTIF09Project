1000 CLEAR 300,&H7800
1010 GOSUB 2000
1020 A=&H782B
1030 PRINT "chk309_m - Processor Check Program"
1040 EXEC &H7800
1050 IF PEEK(A) = 9 THEN 1110
1060 IF PEEK(A) = 3 THEN 1140
1070 PRINT "Processor type could not be determined."
1080 PRINT "Something weird occurred."
1090 GOTO 1160
1100 REM MC6809
1110 PRINT "TYPE: 6809/6809E."
1120 GOTO 1160
1130 REM HD6309
1140 PRINT "TYPE: 6309/6309E."
1145 REM $3006 div $60 == $80, $3006 % $60 == $06
1150 PRINT "$3006 div $60 = ";HEX$(PEEK(A+1));"...";HEX$(PEEK(A+2))
1160 END
2000 REM $7800:START
2010 A=&H7800
2020 READ D$
2030 IF D$="**" THEN RETURN
2040 POKE A,VAL("&H"+D$)
2050 A=A+1
2060 GOTO 2020
2070 REM
3000 DATA 6F,8C,29,6F,8C,27,8D,1B
3010 DATA 27,13,86,03,A7,8C,1C,CC
3020 DATA 30,06,11,8D,60,E7,8C,14
3030 DATA A7,8C,12,20,05,86,09,A7
3040 DATA 8C,09,39,34,06,10,43,E1
3050 DATA 61,35,86
3060 DATA **
